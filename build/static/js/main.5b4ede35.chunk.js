(this["webpackJsonpnsu-front"]=this["webpackJsonpnsu-front"]||[]).push([[0],{189:function(e,t,n){},239:function(e,t,n){},240:function(e,t,n){},241:function(e,t,n){},332:function(e,t,n){},334:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),r=n.n(c),s=n(17),i=n.n(s),j=n(38),l=n(64),u=n(14),o=n(12),d=n.n(o),b=n(70),h=n(73),O=n(338),x=n(341),p=n(342),m=n(340),f=n(343),g=n(176),v=n(60),y="@@login/LOGIN_REQUEST",w="@@login/REGISTER_REQUEST",C="@@login/LOGOUT_REQUEST",S=function(e,t,n){return{type:y,values:e,actions:t,res:n}},k=function(e,t,n){return{type:w,values:e,actions:t,res:n}},E=function(){return{type:C}},z=(n(189),"/sign-in"),T="/sign-up",N="/edit/:id",_="/about/:id",R=function(e){return"/edit/".concat(e)},U=function(e){return"/about/".concat(e)},I=O.a.Text;function L(e){var t=Object(j.d)(),n=Object(h.a)({initialValues:{email:"",password:""},onSubmit:function(){var e=Object(b.a)(d.a.mark((function e(n,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){t(S(n,a,e))}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()});return console.log(n),Object(a.jsxs)("div",{className:"login__main-container",children:[n.errors.common&&Object(a.jsx)(I,{type:"danger",children:n.errors.common}),Object(a.jsx)(x.a,{gutter:[0,20],justify:"end",children:Object(a.jsx)(p.a,{span:24,children:Object(a.jsx)(m.a,{name:"email",size:"large",placeholder:"email",onChange:n.handleChange,value:n.values.email})})}),Object(a.jsx)(x.a,{gutter:[0,20],justify:"end",children:Object(a.jsx)(p.a,{span:24,children:Object(a.jsx)(m.a.Password,{name:"password",size:"large",placeholder:"password",onChange:n.handleChange,value:n.values.password})})}),Object(a.jsx)(x.a,{gutter:[0,20],justify:"end",children:Object(a.jsx)(p.a,{children:Object(a.jsxs)(f.b,{size:"middle",children:[Object(a.jsx)(v.a,{to:T,children:Object(a.jsx)(g.a,{type:"primary",size:"large",children:"Sign up"})}),Object(a.jsx)(g.a,{type:"submit",onClick:n.handleSubmit,size:"large",loading:n.isSubmitting,children:"Sign in"})]})})})]})}n(239);var G=O.a.Title;var P=function(){return Object(a.jsxs)("div",{className:"login-page__main-container",children:[Object(a.jsx)(G,{level:2,children:"Sign-in"}),Object(a.jsx)(L,{})]})},Q=O.a.Text;function V(e){var t=Object(j.d)(),n=Object(h.a)({initialValues:{email:"",password:""},onSubmit:function(){var e=Object(b.a)(d.a.mark((function e(n,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){t(k(n,a,e))}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()});return console.log(n),Object(a.jsxs)("div",{className:"login__main-container",children:[n.errors.common&&Object(a.jsx)(Q,{type:"danger",children:n.errors.common}),Object(a.jsx)(x.a,{gutter:[0,20],justify:"end",children:Object(a.jsx)(p.a,{span:24,children:Object(a.jsx)(m.a,{name:"email",size:"large",placeholder:"email",onChange:n.handleChange,value:n.values.email})})}),Object(a.jsx)(x.a,{gutter:[0,20],justify:"end",children:Object(a.jsx)(p.a,{span:24,children:Object(a.jsx)(m.a.Password,{name:"password",size:"large",placeholder:"password",onChange:n.handleChange,value:n.values.password})})}),Object(a.jsx)(x.a,{gutter:[0,20],justify:"end",children:Object(a.jsx)(p.a,{children:Object(a.jsxs)(f.b,{size:"middle",children:[Object(a.jsx)(v.a,{to:z,children:Object(a.jsx)(g.a,{type:"primary",size:"large",children:"Sign in"})}),Object(a.jsx)(g.a,{type:"submit",onClick:n.handleSubmit,size:"large",loading:n.isSubmitting,children:"Sign up"})]})})})]})}n(240);var A=O.a.Title;var H=function(){return Object(a.jsxs)("div",{className:"register-page__main-container",children:[Object(a.jsx)(A,{level:2,children:"Sign-up"}),Object(a.jsx)(V,{})]})},J="@@user/LOGIN_REQUEST",M="@@user/GET_USER_SUCCESS",B="@@user/REGISTER_REQUEST",D=function(e){return{type:J,userId:e}},K=function(e){return{type:M,payload:e}},W=function(e,t,n){return{type:B,values:e,actions:t,res:n}},q=O.a.Text,F=O.a.Title,X=O.a.Link;function Y(e){var t=Object(j.d)(),n=Object(u.g)().id,c=Object(j.e)((function(e){return e.user.user}));r.a.useEffect((function(){t(D(n))}),[]);var s=Object(h.a)({initialValues:{firstname:"",lastname:"",patronymic:"",avatarURL:"",email:"",phone:"",vk:"",github:"",content:""},onSubmit:function(){var e=Object(b.a)(d.a.mark((function e(n,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){t(W(n,a,e))}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()});r.a.useEffect((function(){s.setValues(c)}),[JSON.stringify(c)]);var i="".concat(window.location.origin).concat(U(n));return Object(a.jsxs)("div",{children:[Object(a.jsx)(x.a,{gutter:[0,20],justify:"end",children:Object(a.jsx)(X,{onClick:function(){return t(E())},children:"\u0412\u044b\u0445\u043e\u0434"})}),Object(a.jsx)(F,{level:3,children:"\u0441\u0441\u044b\u043b\u043a\u0430 \u043f\u0440\u043e\u0444\u0438\u043b\u044f"}),Object(a.jsx)(v.a,{to:U(n),children:Object(a.jsx)(X,{children:i})}),Object(a.jsx)(F,{children:"\u0420\u0435\u0434\u0430\u043a\u0438\u0442\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438"}),Object(a.jsx)(F,{level:3,children:"\u041e\u0431\u043e \u043c\u043d\u0435"}),Object(a.jsx)(x.a,{gutter:[0,20],justify:"end",children:Object(a.jsxs)(p.a,{span:24,children:[Object(a.jsx)(q,{children:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"}),Object(a.jsx)(m.a,{name:"lastname",size:"large",onChange:s.handleChange,value:s.values.lastname})]})}),Object(a.jsx)(x.a,{gutter:[0,20],justify:"end",children:Object(a.jsxs)(p.a,{span:24,children:[Object(a.jsx)(q,{children:"\u0418\u043c\u044f"}),Object(a.jsx)(m.a,{name:"firstname",size:"large",onChange:s.handleChange,value:s.values.firstname})]})}),Object(a.jsx)(x.a,{gutter:[0,20],justify:"end",children:Object(a.jsxs)(p.a,{span:24,children:[Object(a.jsx)(q,{children:"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e"}),Object(a.jsx)(m.a,{name:"patronymic",size:"large",onChange:s.handleChange,value:s.values.patronymic})]})}),Object(a.jsx)(x.a,{gutter:[0,20],justify:"end",children:Object(a.jsxs)(p.a,{span:24,children:[Object(a.jsx)(q,{children:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0444\u043e\u0442\u043e"}),Object(a.jsx)(m.a,{name:"avatarURL",size:"large",onChange:s.handleChange,value:s.values.avatarURL})]})}),Object(a.jsx)(F,{level:3,children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"}),Object(a.jsx)(x.a,{gutter:[0,20],justify:"end",children:Object(a.jsxs)(p.a,{span:24,children:[Object(a.jsx)(q,{children:"\u041f\u043e\u0447\u0442\u0430"}),Object(a.jsx)(m.a,{name:"email",size:"large",onChange:s.handleChange,value:s.values.email})]})}),Object(a.jsx)(x.a,{gutter:[0,20],justify:"end",children:Object(a.jsxs)(p.a,{span:24,children:[Object(a.jsx)(q,{children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"}),Object(a.jsx)(m.a,{name:"phone",size:"large",onChange:s.handleChange,value:s.values.phone})]})}),Object(a.jsx)(x.a,{gutter:[0,20],justify:"end",children:Object(a.jsxs)(p.a,{span:24,children:[Object(a.jsx)(q,{children:"\u0412\u043a"}),Object(a.jsx)(m.a,{name:"vk",size:"large",onChange:s.handleChange,value:s.values.vk})]})}),Object(a.jsx)(x.a,{gutter:[0,20],justify:"end",children:Object(a.jsxs)(p.a,{span:24,children:[Object(a.jsx)(q,{children:"GitHub"}),Object(a.jsx)(m.a,{name:"github",size:"large",onChange:s.handleChange,value:s.values.github})]})}),Object(a.jsx)(F,{level:3,children:"\u041a\u043e\u043d\u0442\u0435\u043d\u0442"}),Object(a.jsx)(x.a,{gutter:[0,20],justify:"end",children:Object(a.jsxs)(p.a,{span:24,children:[Object(a.jsx)(q,{children:"\u041a\u043e\u043d\u0442\u0435\u043d\u0442 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 html"}),Object(a.jsx)(m.a.TextArea,{name:"content",rows:25,onChange:s.handleChange,value:s.values.content})]})}),Object(a.jsx)(x.a,{gutter:[0,20],justify:"end",children:Object(a.jsx)(p.a,{children:Object(a.jsx)(f.b,{size:"middle",children:Object(a.jsx)(g.a,{type:"primary",onClick:s.handleSubmit,size:"large",loading:s.isSubmitting,children:"Save"})})})})]})}var Z=function(){return Object(a.jsx)("div",{style:{padding:"50px 100px"},children:Object(a.jsx)(Y,{})})},$=(n(241),O.a.Text),ee=O.a.Title,te=O.a.Link;var ne=function(){var e=Object(j.d)(),t=Object(u.g)().id,n=Object(j.e)((function(e){return e.user.user}));return r.a.useEffect((function(){e(D(t))}),[]),Object(a.jsx)("div",{style:{marginTop:"80px"},children:Object(a.jsx)(x.a,{justify:"center",children:Object(a.jsxs)(p.a,{span:12,justify:"center",children:[Object(a.jsx)(x.a,{justify:"center",className:"mb-30",children:Object(a.jsx)("img",{src:n.avatarURL,className:"about-img"})}),Object(a.jsx)(x.a,{justify:"center",className:"mb-30",children:Object(a.jsxs)(ee,{level:4,children:[n.lastname," ",n.firstname," ",n.patronymic]})}),Object(a.jsx)(x.a,{className:"mb-30",children:Object(a.jsxs)(p.a,{span:24,children:[Object(a.jsx)(ee,{level:4,children:"Contacts:"}),Object(a.jsxs)("div",{className:"mb-5",children:[Object(a.jsx)($,{className:"contact-type",children:"Email:"}),Object(a.jsx)($,{children:n.email})]}),Object(a.jsxs)("div",{className:"mb-5",children:[Object(a.jsx)($,{className:"contact-type",children:"Phone:"}),Object(a.jsx)($,{children:n.phone})]}),Object(a.jsx)("div",{className:"mb-5",children:Object(a.jsx)("a",{href:n.vk,children:Object(a.jsx)(te,{className:"contact-type",children:"VK"})})}),Object(a.jsx)("div",{className:"mb-5",children:Object(a.jsx)("a",{href:n.github,children:Object(a.jsx)(te,{className:"contact-type",children:"GitHub"})})})]})}),Object(a.jsx)(x.a,{children:Object(a.jsx)(p.a,{span:24,children:Object(a.jsx)("div",{style:{marginBottom:"100px"},dangerouslySetInnerHTML:{__html:n.content}})})})]})})})};var ae=function(){return Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)(u.d,{children:[Object(a.jsx)(u.b,{path:z,component:P}),Object(a.jsx)(u.b,{path:T,component:H}),Object(a.jsx)(u.b,{path:N,component:Z}),Object(a.jsx)(u.b,{path:_,component:ne}),Object(a.jsx)(u.b,{path:"/",render:function(e){return Object(a.jsx)(u.a,{to:z})}})]})})},ce=n(53),re=n(43),se=n(142),ie=n(171),je=n(177),le=n(339),ue={},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;return t.type,e},de=n(116),be={user:{}},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return Object(de.a)(Object(de.a)({},e),{},{user:t.payload});default:return e}},Oe=n(15),xe=n(35),pe=n(174),me=n.n(pe).a.create({baseURL:"http://5.63.157.155:5000/api/"}),fe=d.a.mark(we),ge=d.a.mark(Ce),ve=d.a.mark(Se),ye=d.a.mark(ke);function we(e){var t,n,a,c,r;return d.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.values,n=e.actions,a=e.res,c=function(){return me.post("auth/login",t)},s.prev=2,s.next=5,Object(Oe.c)(1e3);case 5:return s.next=7,Object(Oe.b)(c);case 7:return r=s.sent,i=r.data.token,me.defaults.headers.common.Authorization=i,s.next=11,Object(Oe.d)(Object(xe.d)(R(r.data.userId)));case 11:s.next=16;break;case 13:s.prev=13,s.t0=s.catch(2),n.setErrors({common:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"});case 16:a();case 17:case"end":return s.stop()}var i}),fe,null,[[2,13]])}function Ce(e){var t,n,a,c;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.values,n=e.actions,a=e.res,c=function(){return me.post("auth/register",t)},r.prev=2,r.next=5,Object(Oe.c)(1e3);case 5:return r.next=7,Object(Oe.b)(c);case 7:return r.sent,r.next=10,Object(Oe.d)(Object(xe.d)(z));case 10:r.next=15;break;case 12:r.prev=12,r.t0=r.catch(2),n.setErrors({common:r.t0.response.data.message});case 15:a();case 16:case"end":return r.stop()}}),ge,null,[[2,12]])}function Se(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.setItem("token",""),e.next=3,Object(Oe.d)(Object(xe.d)(z));case 3:case"end":return e.stop()}}),ve)}function ke(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Oe.a)([Object(Oe.e)(y,we),Object(Oe.e)(w,Ce),Object(Oe.e)(C,Se)]);case 2:case"end":return e.stop()}}),ye)}var Ee=d.a.mark(Ne),ze=d.a.mark(_e),Te=d.a.mark(Re);function Ne(e){var t,n;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=function(){return me.post("info/get",{userId:e.userId})},console.log(e.userId),a.prev=2,a.next=5,Object(Oe.b)(t);case 5:return n=a.sent,a.next=8,Object(Oe.d)(K(n.data));case 8:a.next=14;break;case 10:a.prev=10,a.t0=a.catch(2),alert("error get user data"),console.log("error",a.t0);case 14:case"end":return a.stop()}}),Ee,null,[[2,10]])}function _e(e){var t,n,a;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.values,e.actions,n=e.res,a=function(){return me.post("info/update",t)},c.prev=2,c.next=5,Object(Oe.c)(1e3);case 5:return c.next=7,Object(Oe.b)(a);case 7:c.sent,alert("\u0414\u0430\u043d\u043d\u044b\u0435 \u043e\u0431\u043d\u0430\u0432\u043b\u0435\u043d\u044b"),c.next=15;break;case 11:c.prev=11,c.t0=c.catch(2),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f"),console.log("error",c.t0);case 15:n();case 16:case"end":return c.stop()}}),ze,null,[[2,11]])}function Re(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Oe.a)([Object(Oe.e)(J,Ne),Object(Oe.e)(B,_e)]);case 2:case"end":return e.stop()}}),Te)}var Ue=d.a.mark(Ie);function Ie(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Oe.a)([Object(Oe.b)(ke),Object(Oe.b)(Re)]);case 2:case"end":return e.stop()}}),Ue)}var Le,Ge=Object(re.a)(),Pe=Object(se.a)(Ge),Qe=Object(je.a)(),Ve=[Pe,Qe],Ae=Object(ce.createStore)((Le=Ge,Object(ce.combineReducers)({login:oe,user:he,form:le.a,router:Object(l.b)(Le)})),{},Object(ie.composeWithDevTools)(ce.applyMiddleware.apply(void 0,Ve)));Qe.run(Ie);var He=Ae;n(332),n(333);i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(j.a,{store:He,children:Object(a.jsx)(l.a,{history:Ge,children:Object(a.jsx)(ae,{})})})}),document.getElementById("root"))}},[[334,1,2]]]);
//# sourceMappingURL=main.5b4ede35.chunk.js.map